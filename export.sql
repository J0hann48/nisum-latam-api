-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT '415a34f990b9eefe' HASH '2515d6eda3e168b4f2fc87f9990dcd69145eb728e107b88bd91202f0b82af931' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."TEST"(
    "ID" INTEGER NOT NULL,
    "NAME" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."TEST" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");         
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.TEST;    
INSERT INTO "PUBLIC"."TEST" VALUES
(1, 'Hi');
CREATE CACHED TABLE "PUBLIC"."PHONES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 9) NOT NULL,
    "USER_ID" UUID,
    "CITYCODE" CHARACTER VARYING(255),
    "COUNTRYCODE" CHARACTER VARYING(255),
    "NUMBER" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."PHONES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.PHONES;  
INSERT INTO "PUBLIC"."PHONES" VALUES
(1, UUID '16b967ed-44a4-4ed5-9da4-d2dd6f0ed06d', '1', '57', '1234567'),
(4, NULL, '2', '57', '1234567'),
(5, UUID '44ac8c31-efdc-4b62-ab41-bb63663749b4', '6', '57', '1234567'),
(6, NULL, '2', '32', '978746'),
(7, NULL, '2', '32', '978746'),
(8, UUID '5b631de7-9496-4217-a516-f593604ec36c', '2', '32', '978746');            
CREATE CACHED TABLE "PUBLIC"."USERS"(
    "CREATED" DATE,
    "IS_ACTIVE" BOOLEAN NOT NULL,
    "LAST_LOGIN" DATE,
    "MODIFIED" DATE,
    "ID" UUID NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "TOKEN" CHARACTER VARYING(255)
); 
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USERS;   
INSERT INTO "PUBLIC"."USERS" VALUES
(DATE '2024-11-06', TRUE, DATE '2024-11-06', DATE '2024-11-06', UUID '16b967ed-44a4-4ed5-9da4-d2dd6f0ed06d', 'juan@rodriguez.cl', 'Juan Torres', '$2a$10$n/PzPiDK0PK.A/Gj.hh7D.aNg9Vth2QLOY8Km8Ka031GCf5mtI9t.', 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqdWFuQHJvZHJpZ3Vlei5jbCIsImlhdCI6MTczMDk1MTU4NiwiZXhwIjoxNzMxMDM3OTg2fQ.7IRIMAH-TiyahcrCQS2yEXux1s9oRS7DSmVvxgMWYs4'),
(DATE '2024-11-07', TRUE, DATE '2024-11-07', DATE '2024-11-07', UUID '44ac8c31-efdc-4b62-ab41-bb63663749b4', 'carlos@parra.org', 'Carlos Parra', '$2a$10$l20f6dF7xSOJMIvi3t.HwOBjf7DjT/imOXgKjlWUCtuZ0vXag/oYC', 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYXJsb3NAcGFycmEub3JnIiwiaWF0IjoxNzMwOTk1NjYwLCJleHAiOjE3MzEwODIwNjB9.IVMdol9L7_PC9FKthszzbWSd8MSL6beiIc9i4zCgS8g'),
(DATE '2024-11-07', TRUE, DATE '2024-11-07', DATE '2024-11-07', UUID '5b631de7-9496-4217-a516-f593604ec36c', 'carlos@gonalez.org', 'Pedro Parra', '$2a$10$fgMbSkyKQ0rOmHuUVIrTqOrK6Sjx1dj85Qku4htTE/WtHXrsPDyAa', 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYXJsb3NAZ29uYWxlei5vcmciLCJpYXQiOjE3MzEwMjk1NTUsImV4cCI6MTczMTExNTk1NX0.2fk_LXKKUFvmY1d3_b5RnJeIMf53qK76LwgXv0hJGUU');             
ALTER TABLE "PUBLIC"."PHONES" ADD CONSTRAINT "PUBLIC"."FKMG6D77TGQFEN7N1G763NVSQE3" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;         
